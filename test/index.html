<!DOCTYPE html>
<html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ArchServ Viewer</title>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.4/leaflet.css">
<style>
.source {
  float:left;
  margin-right: 10px;
  width: 100%;
  height: 360px;
  font-family: monospace;
  font-size: 16px;
  overflow: auto;
  white-space: pre;
  overflow-wrap: normal;
}
#map {
  width: 100%;
  height: 400px;
  background-color: #ddd;
}
</style>
<body>

  <div class="w3-container">
    <h3>ArchServ Viewer</h3>
    <div id="controls">
      <input id="input_file" style="display: none;" type="file" onchange="javascript:parseFile(event);" />
      <p>
        <label>Select CRS</label>
        <select class="w3-select w3-border" id="crs" onchange="javascript:updateCRS();">
          <option value="EPSG:31256">EPSG:31256 &mdash; MGI / Austria GK East (+0, -5000000)</option>
          <option value="EPSG:31255">EPSG:31255 &mdash; MGI / Austria GK Central (+0, -5000000)</option>
          <option value="EPSG:31254">EPSG:31254 &mdash; MGI / Austria GK West (+0, -5000000)</option>
          <option value="EPSG:31259">EPSG:31259 &mdash; MGI / Austria GK M34 (+750000, -5000000)</option>
          <option value="EPSG:31258">EPSG:31258 &mdash; MGI / Austria GK M31 (+450000, -5000000)</option>
          <option value="EPSG:31257">EPSG:31257 &mdash; MGI / Austria GK M28 (+150000, -5000000)</option>
        </select>
      </p>
      <p>
        <button class="w3-button w3-border w3-green" onclick="javascript:document.getElementById('input_file').click();">Select file...</button>
        <button class="w3-button w3-border w3-green" onclick="javascript:updateMap(document.getElementById('source').value);">Update map</button>
      </p>
    </div>
  </div>

  <div class="w3-container">
    <div class="w3-half" style="padding-right:10px;">
      <div class="w3-bar w3-green">
       <a href="#" class="w3-bar-item w3-button" onclick="javascript:showSource();">Source</a>
       <a href="#" class="w3-bar-item w3-button" onclick="javascript:showGeoJSON();">GeoJSON</a>
       <a href="#" class="w3-bar-item w3-button" id="download">Download</a>
      </div>
      <textarea id="source" class="w3-input w3-border source"></textarea>
      <div id="geoJSON" class="w3-input w3-border source" style="display:none;"></div>
    </div>
    <div class="w3-half">
      <div id="map"></div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.5/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.5.0/proj4.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.4/leaflet.js"></script>
  <script src="../dist/archserv.js"></script>
  <script src="main.js"></script>

</body>
</html>
